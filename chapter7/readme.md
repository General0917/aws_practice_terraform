# 第7章　ネットワーク
本章ではまず、場ブリックネットワークとプライベートネットワークを作成し、その後マルチAZ化する。<br />
あわせて、AWSのファイアウォールについても学習する

## 7.1 パブリックネットワーク
パブリックネットワークは、インターネットからアクセス可能なネットワークである。<br />
このネットワークに作成されるリソースは、パブリックIPアドレスを持つ。

### 7.1.1 VPC(Virtual Private Cloud)
***VPC(Virtual Private Cloud)***は、他のネットワークから論理的に切り離されている仮想ネットワークである。<br />
EC2などのリソースはVPCに配置する。VPCはリスト7.1のように定義する。

リスト7.1: VPCの定義
```
resource "aws_vpc" "example" {
    cidr_block = "10.0.0.0/16"
    enable_dns_support = true
    enable_dns_hostnames = true

    tags = {
        Name = "example"
    }
}
```

#### CIDRブロック
VPCのIPv4アドレスの範囲をCIDR形式(XX.XX.XX.XX/XX)で、cidr_blockに指定する。これはあとから変更できない。<br />
そのため、VPCピアリングなども考慮して、最初にきちんと設計する必要がある。

#### 名前解決
enable_dns_supportをtrueにして、AWSのDNSサーバーによる名前解決を有効にする。<br />
あわせて、VPC内のリソースにパブリックDNSホスト名を自動的に割り当てるため、enable_dns_hostnamesをtrueにする。

#### タグ
AWSでは多くのリソースにタグを指定できる。タグはメタ情報を付与するだけで、リソースの動作には影響しない。リスト7.1ではNameタグを定義している。<br />
VPCのように、いくつかのリソースではNameタグがないと、AWSマネジメントコンソールで見たときに用途がわかりづらくなる。(図7.1)。そのため、タグが設定できるリソースは、Nameタグを入れておく。

図7.1: NameタグがないVPC
![](picture/図7_1.png)

### 7.1.2 パブリックサブネット